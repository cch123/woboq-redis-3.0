<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0"><title>anet.h source code [redis/src/anet.h] - Woboq Code Browser</title>
<link rel="stylesheet" href="../../../data/qtcreator.css" title="QtCreator"/>
<link rel="alternate stylesheet" href="../../../data/kdevelop.css" title="KDevelop"/>
<script type="text/javascript" src="../../../data/jquery/jquery.min.js"></script>
<script type="text/javascript" src="../../../data/jquery/jquery-ui.min.js"></script>
<script>var file = 'redis/src/anet.h'; var root_path = '../..'; var data_path = '../../../data';</script>
<script src='../../../data/codebrowser.js'></script>
</head>
<body><div id='header'><h1 id='breadcrumb'><span>Browse the source code of </span><a href='..'>redis</a>/<a href='./'>src</a>/<a href='anet.h.html'>anet.h</a></h1></div>
<hr/><div id='content'><table class="code">
<tr><th id="1">1</th><td><i>/* anet.c -- Basic TCP socket stuff made a bit less boring</i></td></tr>
<tr><th id="2">2</th><td><i> *</i></td></tr>
<tr><th id="3">3</th><td><i> * Copyright (c) 2006-2012, Salvatore Sanfilippo &lt;antirez at gmail dot com&gt;</i></td></tr>
<tr><th id="4">4</th><td><i> * All rights reserved.</i></td></tr>
<tr><th id="5">5</th><td><i> *</i></td></tr>
<tr><th id="6">6</th><td><i> * Redistribution and use in source and binary forms, with or without</i></td></tr>
<tr><th id="7">7</th><td><i> * modification, are permitted provided that the following conditions are met:</i></td></tr>
<tr><th id="8">8</th><td><i> *</i></td></tr>
<tr><th id="9">9</th><td><i> *   * Redistributions of source code must retain the above copyright notice,</i></td></tr>
<tr><th id="10">10</th><td><i> *     this list of conditions and the following disclaimer.</i></td></tr>
<tr><th id="11">11</th><td><i> *   * Redistributions in binary form must reproduce the above copyright</i></td></tr>
<tr><th id="12">12</th><td><i> *     notice, this list of conditions and the following disclaimer in the</i></td></tr>
<tr><th id="13">13</th><td><i> *     documentation and/or other materials provided with the distribution.</i></td></tr>
<tr><th id="14">14</th><td><i> *   * Neither the name of Redis nor the names of its contributors may be used</i></td></tr>
<tr><th id="15">15</th><td><i> *     to endorse or promote products derived from this software without</i></td></tr>
<tr><th id="16">16</th><td><i> *     specific prior written permission.</i></td></tr>
<tr><th id="17">17</th><td><i> *</i></td></tr>
<tr><th id="18">18</th><td><i> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"</i></td></tr>
<tr><th id="19">19</th><td><i> * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</i></td></tr>
<tr><th id="20">20</th><td><i> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE</i></td></tr>
<tr><th id="21">21</th><td><i> * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE</i></td></tr>
<tr><th id="22">22</th><td><i> * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR</i></td></tr>
<tr><th id="23">23</th><td><i> * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF</i></td></tr>
<tr><th id="24">24</th><td><i> * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</i></td></tr>
<tr><th id="25">25</th><td><i> * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</i></td></tr>
<tr><th id="26">26</th><td><i> * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</i></td></tr>
<tr><th id="27">27</th><td><i> * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE</i></td></tr>
<tr><th id="28">28</th><td><i> * POSSIBILITY OF SUCH DAMAGE.</i></td></tr>
<tr><th id="29">29</th><td><i> */</i></td></tr>
<tr><th id="30">30</th><td></td></tr>
<tr><th id="31">31</th><td><u>#<span data-ppcond="31">ifndef</span> <span class="macro" data-ref="_M/ANET_H">ANET_H</span></u></td></tr>
<tr><th id="32">32</th><td><u>#define <dfn class="macro" id="_M/ANET_H" data-ref="_M/ANET_H">ANET_H</dfn></u></td></tr>
<tr><th id="33">33</th><td></td></tr>
<tr><th id="34">34</th><td><u>#define <dfn class="macro" id="_M/ANET_OK" data-ref="_M/ANET_OK">ANET_OK</dfn> 0</u></td></tr>
<tr><th id="35">35</th><td><u>#define <dfn class="macro" id="_M/ANET_ERR" data-ref="_M/ANET_ERR">ANET_ERR</dfn> -1</u></td></tr>
<tr><th id="36">36</th><td><u>#define <dfn class="macro" id="_M/ANET_ERR_LEN" data-ref="_M/ANET_ERR_LEN">ANET_ERR_LEN</dfn> 256</u></td></tr>
<tr><th id="37">37</th><td></td></tr>
<tr><th id="38">38</th><td><i>/* Flags used with certain functions. */</i></td></tr>
<tr><th id="39">39</th><td><u>#define <dfn class="macro" id="_M/ANET_NONE" data-ref="_M/ANET_NONE">ANET_NONE</dfn> 0</u></td></tr>
<tr><th id="40">40</th><td><u>#define <dfn class="macro" id="_M/ANET_IP_ONLY" data-ref="_M/ANET_IP_ONLY">ANET_IP_ONLY</dfn> (1&lt;&lt;0)</u></td></tr>
<tr><th id="41">41</th><td></td></tr>
<tr><th id="42">42</th><td><u>#<span data-ppcond="42">if</span> defined(<span class="macro" data-ref="_M/__sun">__sun</span>) || defined(<span class="macro" data-ref="_M/_AIX">_AIX</span>)</u></td></tr>
<tr><th id="43">43</th><td><u>#define AF_LOCAL AF_UNIX</u></td></tr>
<tr><th id="44">44</th><td><u>#<span data-ppcond="42">endif</span></u></td></tr>
<tr><th id="45">45</th><td></td></tr>
<tr><th id="46">46</th><td><u>#<span data-ppcond="46">ifdef</span> <span class="macro" data-ref="_M/_AIX">_AIX</span></u></td></tr>
<tr><th id="47">47</th><td><u>#undef ip_len</u></td></tr>
<tr><th id="48">48</th><td><u>#<span data-ppcond="46">endif</span></u></td></tr>
<tr><th id="49">49</th><td></td></tr>
<tr><th id="50">50</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetTcpConnect" title='anetTcpConnect' data-ref="anetTcpConnect" id="anetTcpConnect">anetTcpConnect</a>(<em>char</em> *<dfn class="local col2 decl" id="92err" title='err' data-type='char *' data-ref="92err">err</dfn>, <em>char</em> *<dfn class="local col3 decl" id="93addr" title='addr' data-type='char *' data-ref="93addr">addr</dfn>, <em>int</em> <dfn class="local col4 decl" id="94port" title='port' data-type='int' data-ref="94port">port</dfn>);</td></tr>
<tr><th id="51">51</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetTcpNonBlockConnect" title='anetTcpNonBlockConnect' data-ref="anetTcpNonBlockConnect" id="anetTcpNonBlockConnect">anetTcpNonBlockConnect</a>(<em>char</em> *<dfn class="local col5 decl" id="95err" title='err' data-type='char *' data-ref="95err">err</dfn>, <em>char</em> *<dfn class="local col6 decl" id="96addr" title='addr' data-type='char *' data-ref="96addr">addr</dfn>, <em>int</em> <dfn class="local col7 decl" id="97port" title='port' data-type='int' data-ref="97port">port</dfn>);</td></tr>
<tr><th id="52">52</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetTcpNonBlockBindConnect" title='anetTcpNonBlockBindConnect' data-ref="anetTcpNonBlockBindConnect" id="anetTcpNonBlockBindConnect">anetTcpNonBlockBindConnect</a>(<em>char</em> *<dfn class="local col8 decl" id="98err" title='err' data-type='char *' data-ref="98err">err</dfn>, <em>char</em> *<dfn class="local col9 decl" id="99addr" title='addr' data-type='char *' data-ref="99addr">addr</dfn>, <em>int</em> <dfn class="local col0 decl" id="100port" title='port' data-type='int' data-ref="100port">port</dfn>, <em>char</em> *<dfn class="local col1 decl" id="101source_addr" title='source_addr' data-type='char *' data-ref="101source_addr">source_addr</dfn>);</td></tr>
<tr><th id="53">53</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetUnixConnect" title='anetUnixConnect' data-ref="anetUnixConnect" id="anetUnixConnect">anetUnixConnect</a>(<em>char</em> *<dfn class="local col2 decl" id="102err" title='err' data-type='char *' data-ref="102err">err</dfn>, <em>char</em> *<dfn class="local col3 decl" id="103path" title='path' data-type='char *' data-ref="103path">path</dfn>);</td></tr>
<tr><th id="54">54</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetUnixNonBlockConnect" title='anetUnixNonBlockConnect' data-ref="anetUnixNonBlockConnect" id="anetUnixNonBlockConnect">anetUnixNonBlockConnect</a>(<em>char</em> *<dfn class="local col4 decl" id="104err" title='err' data-type='char *' data-ref="104err">err</dfn>, <em>char</em> *<dfn class="local col5 decl" id="105path" title='path' data-type='char *' data-ref="105path">path</dfn>);</td></tr>
<tr><th id="55">55</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetRead" title='anetRead' data-ref="anetRead" id="anetRead">anetRead</a>(<em>int</em> <dfn class="local col6 decl" id="106fd" title='fd' data-type='int' data-ref="106fd">fd</dfn>, <em>char</em> *<dfn class="local col7 decl" id="107buf" title='buf' data-type='char *' data-ref="107buf">buf</dfn>, <em>int</em> <dfn class="local col8 decl" id="108count" title='count' data-type='int' data-ref="108count">count</dfn>);</td></tr>
<tr><th id="56">56</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetResolve" title='anetResolve' data-ref="anetResolve" id="anetResolve">anetResolve</a>(<em>char</em> *<dfn class="local col9 decl" id="109err" title='err' data-type='char *' data-ref="109err">err</dfn>, <em>char</em> *<dfn class="local col0 decl" id="110host" title='host' data-type='char *' data-ref="110host">host</dfn>, <em>char</em> *<dfn class="local col1 decl" id="111ipbuf" title='ipbuf' data-type='char *' data-ref="111ipbuf">ipbuf</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="112ipbuf_len" title='ipbuf_len' data-type='size_t' data-ref="112ipbuf_len">ipbuf_len</dfn>);</td></tr>
<tr><th id="57">57</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetResolveIP" title='anetResolveIP' data-ref="anetResolveIP" id="anetResolveIP">anetResolveIP</a>(<em>char</em> *<dfn class="local col3 decl" id="113err" title='err' data-type='char *' data-ref="113err">err</dfn>, <em>char</em> *<dfn class="local col4 decl" id="114host" title='host' data-type='char *' data-ref="114host">host</dfn>, <em>char</em> *<dfn class="local col5 decl" id="115ipbuf" title='ipbuf' data-type='char *' data-ref="115ipbuf">ipbuf</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col6 decl" id="116ipbuf_len" title='ipbuf_len' data-type='size_t' data-ref="116ipbuf_len">ipbuf_len</dfn>);</td></tr>
<tr><th id="58">58</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetTcpServer" title='anetTcpServer' data-ref="anetTcpServer" id="anetTcpServer">anetTcpServer</a>(<em>char</em> *<dfn class="local col7 decl" id="117err" title='err' data-type='char *' data-ref="117err">err</dfn>, <em>int</em> <dfn class="local col8 decl" id="118port" title='port' data-type='int' data-ref="118port">port</dfn>, <em>char</em> *<dfn class="local col9 decl" id="119bindaddr" title='bindaddr' data-type='char *' data-ref="119bindaddr">bindaddr</dfn>, <em>int</em> <dfn class="local col0 decl" id="120backlog" title='backlog' data-type='int' data-ref="120backlog">backlog</dfn>);</td></tr>
<tr><th id="59">59</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetTcp6Server" title='anetTcp6Server' data-ref="anetTcp6Server" id="anetTcp6Server">anetTcp6Server</a>(<em>char</em> *<dfn class="local col1 decl" id="121err" title='err' data-type='char *' data-ref="121err">err</dfn>, <em>int</em> <dfn class="local col2 decl" id="122port" title='port' data-type='int' data-ref="122port">port</dfn>, <em>char</em> *<dfn class="local col3 decl" id="123bindaddr" title='bindaddr' data-type='char *' data-ref="123bindaddr">bindaddr</dfn>, <em>int</em> <dfn class="local col4 decl" id="124backlog" title='backlog' data-type='int' data-ref="124backlog">backlog</dfn>);</td></tr>
<tr><th id="60">60</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetUnixServer" title='anetUnixServer' data-ref="anetUnixServer" id="anetUnixServer">anetUnixServer</a>(<em>char</em> *<dfn class="local col5 decl" id="125err" title='err' data-type='char *' data-ref="125err">err</dfn>, <em>char</em> *<dfn class="local col6 decl" id="126path" title='path' data-type='char *' data-ref="126path">path</dfn>, <a class="typedef" href="../../include/x86_64-linux-gnu/sys/types.h.html#mode_t" title='mode_t' data-type='__mode_t' data-ref="mode_t">mode_t</a> <dfn class="local col7 decl" id="127perm" title='perm' data-type='mode_t' data-ref="127perm">perm</dfn>, <em>int</em> <dfn class="local col8 decl" id="128backlog" title='backlog' data-type='int' data-ref="128backlog">backlog</dfn>);</td></tr>
<tr><th id="61">61</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetTcpAccept" title='anetTcpAccept' data-ref="anetTcpAccept" id="anetTcpAccept">anetTcpAccept</a>(<em>char</em> *<dfn class="local col9 decl" id="129err" title='err' data-type='char *' data-ref="129err">err</dfn>, <em>int</em> <dfn class="local col0 decl" id="130serversock" title='serversock' data-type='int' data-ref="130serversock">serversock</dfn>, <em>char</em> *<dfn class="local col1 decl" id="131ip" title='ip' data-type='char *' data-ref="131ip">ip</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col2 decl" id="132ip_len" title='ip_len' data-type='size_t' data-ref="132ip_len">ip_len</dfn>, <em>int</em> *<dfn class="local col3 decl" id="133port" title='port' data-type='int *' data-ref="133port">port</dfn>);</td></tr>
<tr><th id="62">62</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetUnixAccept" title='anetUnixAccept' data-ref="anetUnixAccept" id="anetUnixAccept">anetUnixAccept</a>(<em>char</em> *<dfn class="local col4 decl" id="134err" title='err' data-type='char *' data-ref="134err">err</dfn>, <em>int</em> <dfn class="local col5 decl" id="135serversock" title='serversock' data-type='int' data-ref="135serversock">serversock</dfn>);</td></tr>
<tr><th id="63">63</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetWrite" title='anetWrite' data-ref="anetWrite" id="anetWrite">anetWrite</a>(<em>int</em> <dfn class="local col6 decl" id="136fd" title='fd' data-type='int' data-ref="136fd">fd</dfn>, <em>char</em> *<dfn class="local col7 decl" id="137buf" title='buf' data-type='char *' data-ref="137buf">buf</dfn>, <em>int</em> <dfn class="local col8 decl" id="138count" title='count' data-type='int' data-ref="138count">count</dfn>);</td></tr>
<tr><th id="64">64</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetNonBlock" title='anetNonBlock' data-ref="anetNonBlock" id="anetNonBlock">anetNonBlock</a>(<em>char</em> *<dfn class="local col9 decl" id="139err" title='err' data-type='char *' data-ref="139err">err</dfn>, <em>int</em> <dfn class="local col0 decl" id="140fd" title='fd' data-type='int' data-ref="140fd">fd</dfn>);</td></tr>
<tr><th id="65">65</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetBlock" title='anetBlock' data-ref="anetBlock" id="anetBlock">anetBlock</a>(<em>char</em> *<dfn class="local col1 decl" id="141err" title='err' data-type='char *' data-ref="141err">err</dfn>, <em>int</em> <dfn class="local col2 decl" id="142fd" title='fd' data-type='int' data-ref="142fd">fd</dfn>);</td></tr>
<tr><th id="66">66</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetEnableTcpNoDelay" title='anetEnableTcpNoDelay' data-ref="anetEnableTcpNoDelay" id="anetEnableTcpNoDelay">anetEnableTcpNoDelay</a>(<em>char</em> *<dfn class="local col3 decl" id="143err" title='err' data-type='char *' data-ref="143err">err</dfn>, <em>int</em> <dfn class="local col4 decl" id="144fd" title='fd' data-type='int' data-ref="144fd">fd</dfn>);</td></tr>
<tr><th id="67">67</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetDisableTcpNoDelay" title='anetDisableTcpNoDelay' data-ref="anetDisableTcpNoDelay" id="anetDisableTcpNoDelay">anetDisableTcpNoDelay</a>(<em>char</em> *<dfn class="local col5 decl" id="145err" title='err' data-type='char *' data-ref="145err">err</dfn>, <em>int</em> <dfn class="local col6 decl" id="146fd" title='fd' data-type='int' data-ref="146fd">fd</dfn>);</td></tr>
<tr><th id="68">68</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetTcpKeepAlive" title='anetTcpKeepAlive' data-ref="anetTcpKeepAlive" id="anetTcpKeepAlive">anetTcpKeepAlive</a>(<em>char</em> *<dfn class="local col7 decl" id="147err" title='err' data-type='char *' data-ref="147err">err</dfn>, <em>int</em> <dfn class="local col8 decl" id="148fd" title='fd' data-type='int' data-ref="148fd">fd</dfn>);</td></tr>
<tr><th id="69">69</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetSendTimeout" title='anetSendTimeout' data-ref="anetSendTimeout" id="anetSendTimeout">anetSendTimeout</a>(<em>char</em> *<dfn class="local col9 decl" id="149err" title='err' data-type='char *' data-ref="149err">err</dfn>, <em>int</em> <dfn class="local col0 decl" id="150fd" title='fd' data-type='int' data-ref="150fd">fd</dfn>, <em>long</em> <em>long</em> <dfn class="local col1 decl" id="151ms" title='ms' data-type='long long' data-ref="151ms">ms</dfn>);</td></tr>
<tr><th id="70">70</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetPeerToString" title='anetPeerToString' data-ref="anetPeerToString" id="anetPeerToString">anetPeerToString</a>(<em>int</em> <dfn class="local col2 decl" id="152fd" title='fd' data-type='int' data-ref="152fd">fd</dfn>, <em>char</em> *<dfn class="local col3 decl" id="153ip" title='ip' data-type='char *' data-ref="153ip">ip</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col4 decl" id="154ip_len" title='ip_len' data-type='size_t' data-ref="154ip_len">ip_len</dfn>, <em>int</em> *<dfn class="local col5 decl" id="155port" title='port' data-type='int *' data-ref="155port">port</dfn>);</td></tr>
<tr><th id="71">71</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetKeepAlive" title='anetKeepAlive' data-ref="anetKeepAlive" id="anetKeepAlive">anetKeepAlive</a>(<em>char</em> *<dfn class="local col6 decl" id="156err" title='err' data-type='char *' data-ref="156err">err</dfn>, <em>int</em> <dfn class="local col7 decl" id="157fd" title='fd' data-type='int' data-ref="157fd">fd</dfn>, <em>int</em> <dfn class="local col8 decl" id="158interval" title='interval' data-type='int' data-ref="158interval">interval</dfn>);</td></tr>
<tr><th id="72">72</th><td><em>int</em> <a class="decl fn" href="anet.c.html#anetSockName" title='anetSockName' data-ref="anetSockName" id="anetSockName">anetSockName</a>(<em>int</em> <dfn class="local col9 decl" id="159fd" title='fd' data-type='int' data-ref="159fd">fd</dfn>, <em>char</em> *<dfn class="local col0 decl" id="160ip" title='ip' data-type='char *' data-ref="160ip">ip</dfn>, <span class='typedef' title='size_t' data-type='unsigned long' data-ref="size_t">size_t</span> <dfn class="local col1 decl" id="161ip_len" title='ip_len' data-type='size_t' data-ref="161ip_len">ip_len</dfn>, <em>int</em> *<dfn class="local col2 decl" id="162port" title='port' data-type='int *' data-ref="162port">port</dfn>);</td></tr>
<tr><th id="73">73</th><td></td></tr>
<tr><th id="74">74</th><td><u>#<span data-ppcond="31">endif</span></u></td></tr>
<tr><th id="75">75</th><td></td></tr>
</table><hr/><p id='footer'>
Generated while processing <a href='anet.c.html'>redis/src/anet.c</a><br/>Generated on <em>2018-Apr-06</em> from project redis revision <em>77d3b16</em><br />Powered by <a href='https://woboq.com'><img alt='Woboq' src='https://code.woboq.org/woboq-16.png' width='41' height='16' /></a> <a href='https://code.woboq.org'>Code Browser</a> 2.1
<br/>Generator usage only permitted with license.</p>
</div></body></html>
